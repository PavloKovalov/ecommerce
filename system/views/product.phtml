<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Manage product</title>
		<link href="<?php echo $this->websiteUrl;?>system/css/reset.css" media="screen" rel="stylesheet" type="text/css" > 
		<link href="<?php echo $this->websiteUrl;?>system/css/grid.css" media="screen" rel="stylesheet" type="text/css" > 
		<link href="<?php echo $this->websiteUrl;?>system/uithemes/seotoasterui/seotoasterui.css" media="screen" rel="stylesheet" type="text/css" > 
		<link href="<?php echo $this->websiteUrl;?>system/css/seotoaster.css" media="screen" rel="stylesheet" type="text/css" > 
		<style>
			div.box {
				background-color: white;
				margin: 3px 0;
				padding: 3px;
				cursor: pointer;
				border: 1px solid #ccc;
			}
			div.box:hover {
				box-shadow: 0px 0px 3px #3C78A7; 
			}
			#product-categories .category-widget {
				float:left;
				margin: 3px 2px;
			}
			#product-categories span.ui-icon {
				display: inline-block;
				border-radius: 4px;
			}
			#product-categories span.ui-icon:hover {
				background-color: #666;
				background-image: url(/system/uithemes/seotoasterui/images/ui-icons_ffffff_256x240.png);
			}
			#options-holder .option-content .option-modifier-select {
				width: 50px;
			}
		</style>
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js"></script>
		<script src="<?php echo $this->websiteUrl;?>system/js/external/jquery/plugins/tmpl/jquery.tmpl.min.js"></script>
		<script src="<?php echo $this->websiteUrl;?>plugins/shopping/web/jquery.masonry.min.js"></script>
		
		<!-- Loading "product/main.js" as a bootstrap of product module -->
		<script data-main="<?php echo $this->websiteUrl;?>plugins/shopping/web/js/modules/product/main.js" src="<?php echo $this->websiteUrl;?>plugins/shopping/web/js/libs/require/require-dev.js"></script>
		
		<script id="categoryTemplate" type="text/x-jquery-tmpl">
			<input type="checkbox" name="category[]" value="${id}"/>
			<span class="category-editable">${name}</span>
			<div class="category-toolbar" style="display:inline;">
				<span class="ui-icon" style="display:none;"></span>
				<span class="ui-icon ui-icon-closethick">Delete</span>
			</div>
		</script>
		
		<script id="imgTemplate" type="text/x-jquery-tmpl">
			{{each imageList}}
			<div class="box">
				<img src="${src}" width="100px" data-name="${name}"/>
			</div>
			{{/each}}
		</script>
		
		<script id="optionMainTemplate" type="text/x-jquery-tmpl">
			<div class="option-item clearfix ui-widget-content padding5px mt5px mb5px" data-id="${id}">
				<div class="grid_5 suffix_1">
					<div class="grid_5"><label for="">Title</label></div>
					<div class="grid_7"><input type="text" class="option-title" value="${title}"/></div>
				</div>
				<div class="grid_5">
					<div class="grid_6">
						<label>Type</label>
					</div>
					<div class="grid_6">
						<select class="option-type-select">
							<option value="dropdown">Dropdown Box</option>
							<option value="radio">Radio Switch</option>
							<option value="text">Text Field</option>
							<option value="date">Datepicker</option>
							<option value="file">Upload File</option>
						</select>
					</div>
				</div>
				<div class="grid_1">
					<button class="remove-option">X</button>
				</div>
				<div class="grid_12 option-content"></div>
			</div>
		</script>
		
		<script id="optionListTemplate" type="text/x-jquery-tmpl">
		<div class="grid_12 ui-widget-content">
			<button class="add-selection-btn">Add new selection</button>
			<div class="ui-widget-header clearfix">
				<div class="grid_3">Title</div>
				<div class="grid_4">Price modifier</div>
				<div class="grid_3">Weight modifier</div>
				<div class="grid_1">Dflt</div>
				<div class="grid_1"></div>
			</div>
			<div class="option-list-holder">
			</div>
		</div>
		</script>
		
		<script id="listItemTemplate" type="text/x-jquery-tmpl">
			<div class="grid_3">
				<input type="text" name="title" data-role="title" value="${title}" />
			</div>
			<div class="grid_4">
				<select class="option-modifier-select" name="priceModifierSign" >
					<option value="+" {{if priceModifierSign == '+'}}selected{{/if}} >+</option>
					<option value="-" {{if weightModifierSign == '-'}}selected{{/if}} >-</option>
				</select>
				<input type="text" name="priceModifierValue" value="${priceModifierValue}" class="option-modifier-select" placeholder="0" />
				<select name="priceModifierType" class="option-modifier-select" >
					<option value="percent" {{if priceModifierType == 'percent'}}selected{{/if}} >%</option>
					<option value="amount" {{if priceModifierType == 'amount'}}selected{{/if}} ><?php echo $this->generalConfig['currency']; ?></option>
				</select>
			</div>
			<div class="grid_3">
				<select name="weightModifierSign" class="option-modifier-select">
					<option value="+" {{if weightModifierSign == '+'}}selected{{/if}} >+</option>
					<option value="-" {{if weightModifierSign == '-'}}selected{{/if}} >-</option>
				</select>
				<input name="weightModifierValue" type="text" class="option-modifier-select" placeholder="0" value="${weightModifierValue}"/>
				<span><?php echo $this->generalConfig['weightUnit']; ?></span>
			</div>
			<div class="grid_1">
				<input type="radio" name="isdefault[${_parent}]" value="${title}" {{if isDefault}}checked="checked"{{/if}}/>
			</div>
			<div class="grid_1">
				<button class="item-remove">x</button>
			</div>
		</script>
	</head>
    <body>
		<noscript style="width: 100%; height: 100%; position: fixed; display: block; background: white; font-size: 150%; text-align: center; padding-top: 30%;">
		JavaScript must be enabled at this point.<br/>
		<a href="http://www.seotoaster.com/">seotoaster.com</a>
		</noscript>
		<input type="hidden" id="pluginUrl" name="pluginUrl" value="<?php echo trim($this->websiteUrl, ' /').$this->url(array('run'=>''));?>" />
		
		<div class="seotoaster container_12" style="position: relative;"> 
			<div id="top-toolbar" class="ui-widget-header mb10px"> 
				<span>Add a new product</span> 
				<span>Edit a product from the list</span> 
				<span style="float: right">Delete this product</span> 
			</div>
			
			<div id="manage-product" style="display: none">
			
				<div id="image-select-dialog" class="ui-helper-reset" style="display:none; padding: 5px; position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; background-color: #eee;">
					<div class="clearfix" style="border-bottom: 1px solid #777; margin-bottom: 10px;">
						<span style="float:left">select image for product</span>
						<a href="javascript:;" style="float:right;" onclick="$('#image-select-dialog').hide('slide');">close</a>
					</div>
					<div id="image-list"></div>
				</div>
			
				<ul> 
					<li><a href="#tab1">Main Info</a></li> 
					<li><a href="#category-tab">Categories</a></li> 
					<li><a href="#options-tab">Options</a></li> 
					<li><a href="#tab4">Related Products</a></li> 
					<li><a href="#tab5">Marketing</a></li> 
				</ul> 
				<!--------- MAIN INFO --------------> 
				<div id="tab1" class="clearfix"> 
					<div class="grid_8 alpha"> 
						<div class="grid_4"> 
							<?php echo $this->formSelect('product-image-folder', null, array('title' => 'select folder'), $this->imageDirList); ?>
							<div class="h150">
								<img width="100%" id="product-image" src="<?php echo $this->websiteUrl;?>system/images/noimage.png" alt="" />
							</div>
						</div> 
						<div class="grid_8"> 
							<label for="product-name">Product Name</label> 
						</div> 
						<div class="grid_8"> 
							<input type="text" id="product-name" data-reflection="property" placeholder="enter name of product" /> 
						</div> 
						<div class="grid_2"> 
							<label for="product-sku">SKU</label> 
							<input type="text" id="product-sku" data-reflection="property" placeholder="item id" /> 
						</div> 
						<div class="grid_3"> 
							<label for="product-mpn">MPN</label> 
							<input type="text" id="product-mpn" data-reflection="property" placeholder="manufacturer partnumber" /> 
						</div> 
						<div class="grid_3"> 
							<label for="product-weight">Weight (in <?php echo $this->generalConfig['weightUnit']; ?>)</label> 
							<input type="text" id="product-weight" data-reflection="property" placeholder="0.00"> 
						</div> 
						<div class="clear"></div> 
						<div class="grid_8"> 
							<label for="product-brand">Brand</label> 
							<input type="text" id="product-brand" data-reflection="property" placeholder="brand name" /> 
							<a href="javascript:;" style="font-size: 80%;float: right;">view brand landing page</a>
						</div>
						<div class="clear"></div> 
						<div class="grid_12 mt5px"> 
							<div id="description-box">
								<ul>
									<li><a href="#short-description-tab">Short description</a></li>
									<li><a href="#full-description-tab">Full description</a></li>
								</ul>
								<div id="short-description-tab">
								<textarea id="product-shortDescription" class="h120" data-reflection="property" placeholder="Short description"></textarea> 
								</div>
								<div id="full-description-tab">
								<textarea id="product-fullDescription" class="h120" data-reflection="property" placeholder="Full description"></textarea> 
								</div>
							</div>
						</div> 
					</div> 
					<!--End grid_8--> 
					<div class=" grid_4"> 
						<label for="product-enabled"><input type="checkbox" id="product-enabled" />This product is enabled</label>
					<hr /> 
					</div> 
					<div class="grid_2"> 
						<label for="product-price">Price (in <?php echo $this->generalConfig['currency']; ?>)</label> 
						<input type="text" id="product-price" data-reflection="property" placeholder="0.00"/> 
					</div> 
					<div class="grid_2"> 
						<label for="tax">Taxes</label> 
						<select name="taxes" id="product-taxGroup" data-reflection="property" > 
							<option value="0">Non taxable</option> 
							<option value="1">Default</option> 
							<option value="2">Alternative</option> 
							<option value="3">Alternative 2</option> 
						</select> 
					</div> 
					<div class=" grid_4"> 
					<hr /> 
					</div> 
					<div class="grid_4"> 
						<select name="product-pageTemplate" id="product-pageTemplate" data-reflection="property"> 
							<option value="-1" disabled="disable">Select Template</option>
							<option value="0">Product Default</option>
							<option value="1">Product 2 col</option>
							<option value="2">Product - minimal</option>
						</select>
						<hr />
					</div> 
					<input type="submit" name="submit" id="submit" value="Save"/> 
				</div> 

				<div id="category-tab" class="clearfix"> 
					<div class="grid_4 prefix_4 suffix_4 mb5px" style="text-align:center; box-shadow: 0 10px 15px -10px #999;">
							<input type="" id="new-category" placeholder="Create new category"/>
					</div>
					
					
					<div id="product-categories">
					</div>
					
				</div> <!-- #category-tab --> 

				<div id="options-tab" class="clearfix"> 
					<div>
						<button id="add-new-option-btn">Create new option</button>
<!--						<span>or use existing</span>
						<select name="option-list" id="option-list">
							<option value=""></option>
							<option value=""></option>
							<option value=""></option>
						</select>-->
					</div>
					<div id="options-holder" class="clearfix">
						<div class="" id="option-holder">
							
						</div>
					</div>
				</div> <!-- End Tab 3 --> 

				<div id="tab4" class="clearfix"> 
					@todo related products will come soon
				</div> 

				<div id="tab5"> 
					@todo super-mega-merchandising plugins are on thier way
				</div> 
			</div>
		</div>
		
    </body>
</html>